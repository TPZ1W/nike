<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/admin}">

<th:block layout:fragment="page_head">
    <title>T·∫°o m√£ gi·∫£m gi√° | Admin</title>
</th:block>

<body>
<th:block layout:fragment="content">
    <div style="padding: 20px;">
        <h1>‚ûï T·∫°o m√£ gi·∫£m gi√° m·ªõi</h1>
        <p>T·∫°o m√£ gi·∫£m gi√° ƒë·ªÉ thu h√∫t kh√°ch h√†ng v√† tƒÉng doanh s·ªë</p>
        
        <div style="margin: 20px 0;">
            <a href="/admin/coupons" style="background: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                ‚Üê Quay l·∫°i danh s√°ch
            </a>
        </div>

        <!-- Form Create -->
        <div style="background: white; padding: 20px; border: 1px solid #ddd; border-radius: 5px; max-width: 600px;">
            <form th:action="@{/admin/coupons/create}" method="post" th:object="${couponCreateRequest}">
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">M√£ gi·∫£m gi√° *</label>
                    <input type="text" th:field="*{code}" required
                           style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 3px;"
                           placeholder="VD: WELCOME10">
                    <div style="color: red; font-size: 12px;" th:if="${#fields.hasErrors('code')}" th:errors="*{code}"></div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">T√™n m√£ gi·∫£m gi√° *</label>
                    <input type="text" th:field="*{name}" required
                           style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 3px;"
                           placeholder="VD: M√£ gi·∫£m gi√° ch√†o m·ª´ng">
                    <div style="color: red; font-size: 12px;" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Lo·∫°i gi·∫£m gi√° *</label>
                    <select th:field="*{discountType}" required
                            style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 3px;">
                        <option value="">Ch·ªçn lo·∫°i gi·∫£m gi√°</option>
                        <option value="PERCENTAGE">% Ph·∫ßn trƒÉm</option>
                        <option value="FIXED_AMOUNT">üí∞ S·ªë ti·ªÅn c·ªë ƒë·ªãnh</option>
                    </select>
                    <div style="color: red; font-size: 12px;" th:if="${#fields.hasErrors('discountType')}" th:errors="*{discountType}"></div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Gi√° tr·ªã gi·∫£m *</label>
                    <input type="number" th:field="*{discountValue}" 
                           min="1" step="0.01" required
                           style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 3px;"
                           placeholder="Nh·∫≠p gi√° tr·ªã">
                    <div style="color: red; font-size: 12px;" th:if="${#fields.hasErrors('discountValue')}" th:errors="*{discountValue}"></div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Gi√° tr·ªã ƒë∆°n h√†ng t·ªëi thi·ªÉu</label>
                    <input type="number" th:field="*{minOrderAmount}" 
                           min="0" step="1000"
                           style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 3px;"
                           placeholder="ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng gi·ªõi h·∫°n">
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">S·ªë l·∫ßn s·ª≠ d·ª•ng t·ªëi ƒëa</label>
                    <input type="number" th:field="*{usageLimit}" 
                           min="1"
                           style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 3px;"
                           placeholder="ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng gi·ªõi h·∫°n">
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">M√¥ t·∫£</label>
                    <textarea th:field="*{description}" rows="3"
                              style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 3px; resize: vertical;"
                              placeholder="M√¥ t·∫£ chi ti·∫øt v·ªÅ m√£ gi·∫£m gi√°..."></textarea>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" th:field="*{active}" value="true" checked>
                        <span style="font-weight: bold;">K√≠ch ho·∫°t m√£ gi·∫£m gi√°</span>
                    </label>
                </div>

                <!-- Error Messages -->
                <div th:if="${errorMessage}" style="background: #f8d7da; color: #721c24; padding: 10px; border-radius: 3px; margin-bottom: 15px; border: 1px solid #f5c6cb;">
                    <strong>L·ªói:</strong> <span th:text="${errorMessage}"></span>
                </div>

                <div style="display: flex; gap: 10px;">
                    <button type="submit" style="background: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 3px; cursor: pointer;">
                        üíæ T·∫°o m√£ gi·∫£m gi√°
                    </button>
                    <a href="/admin/coupons" style="background: #6c757d; color: white; padding: 10px 20px; text-decoration: none; border-radius: 3px;">
                        ‚ùå H·ªßy
                    </a>
                </div>
            </form>
        </div>
    </div>
</th:block>

</body>
</html>